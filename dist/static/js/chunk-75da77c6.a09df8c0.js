(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75da77c6"],{"128a":function(o,t,e){"use strict";var a=e("63d0"),r=e.n(a);r.a},"63d0":function(o,t,e){},"6a33":function(o,t,e){"use strict";e.r(t);var a=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",{staticClass:"comment-set-wrap page-wrap"},[e("div",{staticClass:"common-set  page-inner"},[e("p",{staticClass:"set-header page-header"},[o._v("\n            通用设置\n        ")]),o._v(" "),e("div",{staticClass:"set-form"},[e("el-form",{ref:"formData",attrs:{"label-width":"100px","label-position":"right",model:o.formData,rules:o.formRule}},[e("el-form-item",{attrs:{label:"公司名称：",prop:"common.company_name"}},[e("el-input",{model:{value:o.formData.common.company_name,callback:function(t){o.$set(o.formData.common,"company_name",t)},expression:"formData.common.company_name"}})],1),o._v(" "),e("el-form-item",{attrs:{label:"公司地址：",prop:"common.address"}},[e("el-input",{model:{value:o.formData.common.address,callback:function(t){o.$set(o.formData.common,"address",t)},expression:"formData.common.address"}})],1),o._v(" "),e("div",{staticClass:"inline"},[e("el-form-item",{attrs:{label:"机构电话：",prop:"common.telephone"}},[e("el-input",{model:{value:o.formData.common.telephone,callback:function(t){o.$set(o.formData.common,"telephone",t)},expression:"formData.common.telephone"}})],1),o._v(" "),e("el-form-item",{attrs:{label:"邮箱：",prop:"common.email"}},[e("el-input",{model:{value:o.formData.common.email,callback:function(t){o.$set(o.formData.common,"email",t)},expression:"formData.common.email"}})],1)],1),o._v(" "),e("div",{staticClass:"inline"},[e("el-form-item",{attrs:{label:"客服微信：",prop:"common.wechat"}},[e("el-input",{model:{value:o.formData.common.wechat,callback:function(t){o.$set(o.formData.common,"wechat",t)},expression:"formData.common.wechat"}})],1),o._v(" "),e("el-form-item",{attrs:{label:"QQ群号：",prop:"common.qq"}},[e("el-input",{model:{value:o.formData.common.qq,callback:function(t){o.$set(o.formData.common,"qq",t)},expression:"formData.common.qq"}})],1)],1),o._v(" "),e("el-form-item",{attrs:{label:"备案号：",prop:"common.aduit"}},[e("el-input",{model:{value:o.formData.common.aduit,callback:function(t){o.$set(o.formData.common,"aduit",t)},expression:"formData.common.aduit"}})],1),o._v(" "),e("el-form-item",{attrs:{label:"用户协议：",prop:"protocol.content_2"}},[e("editorCom",{attrs:{options:o.editOptions},model:{value:o.formData.protocol.content_2,callback:function(t){o.$set(o.formData.protocol,"content_2",t)},expression:"formData.protocol.content_2"}})],1),o._v(" "),e("el-form-item",{attrs:{label:"报名协议：",prop:"protocol.content_1"}},[e("editorCom",{attrs:{options:o.editOptions},model:{value:o.formData.protocol.content_1,callback:function(t){o.$set(o.formData.protocol,"content_1",t)},expression:"formData.protocol.content_1"}})],1),o._v(" "),e("el-form-item",{attrs:{label:"机构介绍：",required:"",prop:"aboutUs.detail"}},[e("editorCom",{attrs:{options:o.editOptions},model:{value:o.formData.aboutUs.detail,callback:function(t){o.$set(o.formData.aboutUs,"detail",t)},expression:"formData.aboutUs.detail"}})],1)],1),o._v(" "),o.hasEditPermission?e("div",{staticClass:"subBtn-list"},[e("el-button",{attrs:{type:"success"},on:{click:o.handleSave}},[o._v("\n                    确定\n                ")])],1):o._e()],1)])])},r=[],n=(e("456d"),e("ac6a"),e("cc96")),m=e("40cb"),c=e("60c5"),s=e("7c15"),l=e("5f87"),i={name:"commonSet",components:{editorCom:n["a"],uploadImg:m["a"],filterCom:c["a"]},data:function(){var o=function(o,t,e){var a=/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/,r=/^1(3|4|5|7|6|8)\d{9}$/;return a.test(t)||r.test(t)?e():e(new Error("号码格式不对"))},t=function(o,t,e){var a=/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/;if(!a.test(t))return e(new Error("邮箱格式不正确"));e()};return{editOptions:{uploadJson:"/api"+s["a"].protocol_upload+"?token="+Object(l["a"])()},imgList:[],formData:{common:{company_name:"",address:"",telephone:"",wechat:"",aduit:"",qq:"",email:""},aboutUs:{detail:""},protocol:{content_1:"",content_2:""}},formRule:{"common.company_name":[{required:!0,message:"请填写公司名称",trigger:"blur"}],"common.address":[{required:!0,message:"请填写公司地址",trigger:"blur"}],"common.telephone":[{required:!0,message:"请填写公司电话",trigger:"blur"},{validator:o,trigger:"blur"}],"common.email":[{required:!0,message:"请填写邮箱",trigger:"blur"},{validator:t,trigger:"blur"}],"common.wechat":[{required:!0,message:"请填写微信群号",trigger:"blur"}],"common.qq":[{required:!0,message:"请填写QQ号",trigger:"blur"}],"common.aduit":[{required:!0,message:"请填写QQ号",trigger:"blur"}],"protocol.content_2":[{required:!0,message:"请填写协议",trigger:"blur"}],"protocol.content_1":[{required:!0,message:"请填写协议",trigger:"blur"}],"aboutUs.detail":[{required:!0,message:"请填写机构介绍",trigger:"blur"}]}}},mounted:function(){this.getPageInfo()},methods:{handleSave:function(){var o=this;this.$refs.formData.validate((function(t){if(t){var e=JSON.parse(JSON.stringify(o.formData)),a=e.protocol;e.protocol={},e.protocol[1]={content:a.content_1},e.protocol[2]={content:a.content_2},s["b"].common_set_save(e).then((function(t){o.$appmessage({type:"success",message:"保存成功"})}))}}))},hadleDoSearch:function(o){},setForm:function(o){var t=this,e=o.common,a=o.aboutUs,r=o.protocol;Object.keys(this.formData.common).forEach((function(o){t.formData.common[o]=e[o]})),Object.keys(this.formData.aboutUs).forEach((function(o){t.formData.aboutUs[o]=a[o]})),Object.keys(this.formData.protocol).forEach((function(o){var e;"content_1"==o&&(e=1),"content_2"==o&&(e=2),e&&(t.formData.protocol[o]=r[e].content)}))},getPageInfo:function(){var o=this;s["b"].common_set_detail().then((function(t){var e=t.data;o.setForm(e)}))}}},u=i,p=(e("128a"),e("2877")),f=Object(p["a"])(u,a,r,!1,null,"67675546",null);t["default"]=f.exports}}]);